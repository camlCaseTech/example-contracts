# ~/alphanet.sh client typecheck script container:out.tz
parameter (or (pair (pair address nat) (pair nat string)) (pair address nat));
storage (pair (pair (map address (pair nat (map address nat))) (pair nat nat)) (pair (pair nat string) (pair string address)));
code {DUP;CAR;DIP {CDR};IF_LEFT {DUP; CAR; CAR; DIP {SWAP}; DIP {DUP; DIP {CAR}; CDR}; DIP {DUP; DIP {CAR}; CDR}; DIP {DUP; DIP {CAR}; CDR}; DIP {DROP}; SWAP; PAIR; SWAP; PAIR; SWAP; PAIR; SWAP; DUP; CAR; CDR; DIP {SWAP}; DIP {DUP; DIP {CDR}; CAR}; DIP {DUP; DIP {CAR}; CDR}; DIP {DUP; DIP {CAR}; CDR}; DIP {DROP}; SWAP; PAIR; SWAP; PAIR; PAIR; SWAP; DUP; CDR; CAR; DIP {SWAP}; DIP {DUP; DIP {CAR}; CDR}; DIP {DUP; DIP {CDR}; CAR}; DIP {DUP; DIP {CDR}; CAR}; DIP {DROP}; PAIR; PAIR; SWAP; PAIR; SWAP; DUP; CDR; CDR; DIP {SWAP}; DIP {DUP; DIP {CAR}; CDR}; DIP {DUP; DIP {CDR}; CAR}; DIP {DUP; DIP {CAR}; CDR}; DIP {DROP}; SWAP; PAIR; PAIR; SWAP; PAIR; PUSH nat 1; DIP {DUP; DIP {CDR}; CAR}; DIP {DUP; DIP {CAR}; CDR}; DIP {DUP; DIP {CDR}; CAR}; DIP {DROP}; PAIR; SWAP; PAIR; PAIR; SWAP; DIP {DUP; CAR; CAR}; DUP; CAR; CDR; EMPTY_MAP address nat; SWAP; PAIR; SOME; SWAP; CAR; CAR; UPDATE; DIP {DUP; DIP {CDR}; CAR}; DIP {DUP; DIP {CDR}; CAR}; DIP {DROP}; PAIR; PAIR; NIL operation; PAIR}        {SWAP; SENDER; DIP {DUP; CAR; CAR}; GET; IF_NONE {EMPTY_MAP address nat; PUSH nat 0; PAIR}        {}; DIP {SWAP}; SWAP; DUP; CDR; PUSH nat 0; COMPARE; EQ; IF {SWAP; DUP; CAR; DIP {CDR}; DIP {DIP {DUP; CAR}; SWAP; DIP {NONE nat}; UPDATE}; PAIR}   {DUP; CAR; DIP {DUP; CDR; SOME}; DIP {DIP {SWAP; DUP; CDR}}; UPDATE; SWAP; CAR; PAIR}; SOME; DIP {SWAP; DUP; CAR; CAR}; SENDER; UPDATE; DIP {DUP; DIP {CDR}; CAR}; DIP {DUP; DIP {CDR}; CAR}; DIP {DROP}; PAIR; PAIR; DIP {DROP}; NIL operation; PAIR}};
